<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>VibeFinder - Discover Your City's Mood</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- FontAwesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <style>
    .map-container {
      height: calc(100vh - 64px);
    }
    .dark-theme {
      background-color: #1a1a1a;
      color: #ffffff;
    }
    .sidebar {
      backdrop-filter: blur(10px);
      background-color: rgba(17, 24, 39, 0.8);
    }
    .vibe-card {
      background: linear-gradient(45deg, rgba(17, 24, 39, 0.8), rgba(31, 41, 55, 0.8));
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    .vibe-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .pulse {
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    /* Map Controls */
    .location-button {
      width: 34px !important;
      height: 34px !important;
      line-height: 34px !important;
      text-align: center;
      background-color: white;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .location-button:hover {
      background-color: #f0f0f0;
    }
    .location-button i {
      color: #666;
    }
    
    /* User Marker */
    .user-marker {
      animation: bounce 1s infinite;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }
    
    /* Vibe Markers */
    .vibe-marker {
      transition: all 0.3s ease;
    }
    .vibe-marker:hover {
      transform: scale(1.1);
    }
    
    /* Search Input Enhancement */
    #searchPlace {
      transition: all 0.3s ease;
    }
    #searchPlace:focus {
      width: 300px;
      box-shadow: 0 0 0 2px rgba(167, 139, 250, 0.3);
    }
  </style>
</head>

<body class="dark-theme">

  <!-- Navigation Bar -->
  <nav class="bg-gray-900 text-white p-4 border-b border-gray-800">
    <div class="container mx-auto flex justify-between items-center">
      <div class="flex items-center space-x-4">
        <button id="sidebarToggle" class="md:hidden text-white hover:text-gray-300">
          <i class="fas fa-bars text-xl"></i>
        </button>
        <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent">
          VibeFinder
        </h1>
        <div class="relative">
          <input type="text" id="searchPlace" placeholder="Search location..." 
            class="bg-gray-800 px-4 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 w-64">
          <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
        </div>
      </div>
      <div class="flex items-center space-x-4">
        <button id="heatmapToggle" class="bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded-lg text-sm">
          <i class="fas fa-fire-alt mr-2"></i>Heatmap
        </button>
        <button id="filterVibes" class="bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded-lg text-sm">
          <i class="fas fa-filter mr-2"></i>Filter
        </button>
        <button id="addVibeBtn" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-lg text-sm pulse">
          <i class="fas fa-plus mr-2"></i>Add Vibe
        </button>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="flex h-[calc(100vh-64px)]">
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar w-80 p-4 md:block overflow-y-auto fixed md:relative z-40 transform transition-transform duration-300 ease-in-out -translate-x-full md:translate-x-0">
      <div class="mb-6">
        <h2 class="text-xl font-bold mb-4 flex items-center">
          <i class="fas fa-chart-line mr-2 text-purple-500"></i>
          Trending Vibes
        </h2>
        <div id="vibeStats" class="space-y-4">
          <div class="vibe-card p-4 rounded-lg">
            <div class="flex justify-between items-center mb-2">
              <span class="text-yellow-500"><i class="fas fa-smile mr-2"></i>Fun</span>
              <span class="text-sm text-gray-400">75 vibes today</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2">
              <div class="bg-yellow-500 h-2 rounded-full" style="width: 75%"></div>
            </div>
          </div>
          
          <div class="vibe-card p-4 rounded-lg">
            <div class="flex justify-between items-center mb-2">
              <span class="text-blue-500"><i class="fas fa-peace mr-2"></i>Calm</span>
              <span class="text-sm text-gray-400">45 vibes today</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2">
              <div class="bg-blue-500 h-2 rounded-full" style="width: 45%"></div>
            </div>
          </div>

          <div class="vibe-card p-4 rounded-lg">
            <div class="flex justify-between items-center mb-2">
              <span class="text-pink-500"><i class="fas fa-heart mr-2"></i>Romantic</span>
              <span class="text-sm text-gray-400">30 vibes today</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2">
              <div class="bg-pink-500 h-2 rounded-full" style="width: 30%"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="mb-6">
        <h2 class="text-xl font-bold mb-4 flex items-center">
          <i class="fas fa-history mr-2 text-purple-500"></i>
          Recent Activity
        </h2>
        <div id="recentActivity" class="space-y-4">
          <div class="vibe-card p-4 rounded-lg">
            <div class="flex items-center mb-2">
              <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center">
                <i class="fas fa-user text-white"></i>
              </div>
              <div class="ml-3">
                <p class="text-sm">New vibe added near Central Park</p>
                <p class="text-xs text-gray-400">2 minutes ago</p>
              </div>
            </div>
          </div>

          <div class="vibe-card p-4 rounded-lg">
            <div class="flex items-center mb-2">
              <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center">
                <i class="fas fa-user text-white"></i>
              </div>
              <div class="ml-3">
                <p class="text-sm">Popular spot at Downtown Square</p>
                <p class="text-xs text-gray-400">15 minutes ago</p>
              </div>
            </div>
          </div>

          <div class="vibe-card p-4 rounded-lg">
            <div class="flex items-center mb-2">
              <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center">
                <i class="fas fa-user text-white"></i>
              </div>
              <div class="ml-3">
                <p class="text-sm">New energetic vibe at Beach Front</p>
                <p class="text-xs text-gray-400">45 minutes ago</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Overlay for mobile sidebar -->
    <div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden md:hidden"></div>

    <!-- Map Container -->
    <div id="map" class="flex-1 map-container"></div>

    <!-- Vibe Selection Modal -->
    <div id="vibeModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
      <div class="bg-gray-800 p-6 rounded-lg w-96 transform transition-all">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-bold">Add Your Vibe</h2>
          <button id="closeModal" class="text-gray-400 hover:text-white">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="mb-4">
          <input type="text" id="vibeDescription" placeholder="Describe this vibe (optional)" 
            class="w-full bg-gray-700 p-3 rounded mb-4 focus:outline-none focus:ring-2 focus:ring-purple-500">
        </div>
        <div class="grid grid-cols-2 gap-4 mb-4">
          <button class="vibe-btn bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 p-4 rounded-lg flex flex-col items-center" data-vibe="Fun">
            <i class="fas fa-smile text-2xl mb-2"></i>
            <span>Fun</span>
          </button>
          <button class="vibe-btn bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 p-4 rounded-lg flex flex-col items-center" data-vibe="Calm">
            <i class="fas fa-peace text-2xl mb-2"></i>
            <span>Calm</span>
          </button>
          <button class="vibe-btn bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 p-4 rounded-lg flex flex-col items-center" data-vibe="Romantic">
            <i class="fas fa-heart text-2xl mb-2"></i>
            <span>Romantic</span>
          </button>
          <button class="vibe-btn bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 p-4 rounded-lg flex flex-col items-center" data-vibe="Energetic">
            <i class="fas fa-bolt text-2xl mb-2"></i>
            <span>Energetic</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Filter Modal -->
    <div id="filterModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
      <div class="bg-gray-800 p-6 rounded-lg w-80">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-bold">Filter Vibes</h2>
          <button id="closeFilterModal" class="text-gray-400 hover:text-white">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="space-y-4">
          <label class="flex items-center space-x-3">
            <input type="checkbox" class="vibe-filter" value="Fun" checked>
            <span class="text-yellow-500"><i class="fas fa-smile mr-2"></i>Fun</span>
          </label>
          <label class="flex items-center space-x-3">
            <input type="checkbox" class="vibe-filter" value="Calm" checked>
            <span class="text-blue-500"><i class="fas fa-peace mr-2"></i>Calm</span>
          </label>
          <label class="flex items-center space-x-3">
            <input type="checkbox" class="vibe-filter" value="Romantic" checked>
            <span class="text-pink-500"><i class="fas fa-heart mr-2"></i>Romantic</span>
          </label>
          <label class="flex items-center space-x-3">
            <input type="checkbox" class="vibe-filter" value="Energetic" checked>
            <span class="text-red-500"><i class="fas fa-bolt mr-2"></i>Energetic</span>
          </label>
        </div>
        <button id="applyFilters" class="w-full bg-purple-600 hover:bg-purple-700 p-2 rounded-lg mt-4">
          Apply Filters
        </button>
      </div>
    </div>

  </div>

  <!-- Initialize Leaflet Map -->
  <script>
    var map = L.map('map').setView([51.505, -0.09], 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    L.marker([51.505, -0.09]).addTo(map)
      .bindPopup('A sample marker.')
      .openPopup();

    // Sidebar toggle functionality
    const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebarToggle');
    const sidebarOverlay = document.getElementById('sidebarOverlay');

    sidebarToggle.addEventListener('click', () => {
      sidebar.classList.toggle('-translate-x-full');
      sidebarOverlay.classList.toggle('hidden');
    });

    sidebarOverlay.addEventListener('click', () => {
      sidebar.classList.add('-translate-x-full');
      sidebarOverlay.classList.add('hidden');
    });
  </script>

  <!-- Your Project JavaScript -->
  <script src="js/app.js"></script>

</body>
</html>
